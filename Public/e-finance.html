<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Finance Page</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='CSS/e-finance.css'>
</head>
<body>
<header>
    <link rel="stylesheet" href="CSS/e-navbar.css">
    <nav class="navbar">
        <div class="nav-logo"><img src="Assets/logo.png" alt="SeniorSync Logo"></div>
        <ul class="nav-links">
            <li><a href="e-calendar.html">Calendar</a></li>
            <li><a href="e-finance.html">Finance</a></li>
            <li><a href="e-events.html">Events</a></li>
            <li><a href="e-notifications.html">Notifications</a></li>
            <li><a href="e-profile.html">Profile</a></li>
        </ul>
    </nav>
    <script src="JS/e-navbar.js"></script>
</header>
<!-- Title header-->
    <div class="finance-title-container">
        <span class="highlight-box"></span>
        <h1 class="finance-title">Financial Details</h1>
    </div>


<div class="budget-section finance-container">
    <div class="chart-wrapper">
    <div class="chart-header">
        <h2 class="section-title">Spendings This Month</h2>

        <label for="month-select" class="month-filter-label">Filter:</label>
        <select id="month-select" class="month-select"></select>
    </div>

    <img src="" alt="Finance Breakdown" class="finance-pie-chart">
    </div>

    <div class="category-breakdown">
        <div class="category-item">
            <img src="Assets/logo-icon.png" alt="transport" class="category-icon">
            <div class="category-details">
                <div class="category-label">
                    <span class="category-name">Transportation</span>
                    <span id="transport-data" class="amount-left">Left: $70/130 ðŸ˜Š</span>
                </div>

                <div class="bar-wrapper">
                    <img src="Assets/BudgetLine.png" id ="transport-bar" class="bar-base">
                </div>
            </div>
        </div>

        <div class="category-item">
            <img src="Assets/logo-icon.png" alt="food" class="category-icon">
            <div class="category-details">
                <div class="category-label">
                    <span class="category-name">Food</span>
                    <span id="food-data" class="amount-left">Left: $70/130 ðŸ˜Š</span>
                </div>

                <div class="bar-wrapper">
                    <img src="Assets/BudgetLine.png" id ="food-bar" class="bar-base">
                </div>
            </div>
        </div>
        <div class="category-item">
            <img src="Assets/logo-icon.png" alt="utilities" class="category-icon">
            <div class="category-details">
                <div class="category-label">
                    <span class="category-name">Utilities</span>
                    <span id="utilities-data" class="amount-left">Left: $70/130 ðŸ˜Š</span>
                </div>

                <div class="bar-wrapper">
                    <img src="Assets/BudgetLine.png" id ="utilities-bar" class="bar-base">
                </div>
            </div>
        </div>
        <div>
            <button id="open-budgetform-btn" class="edit-budget-btn">Edit Budget</button>
        </div>
        
    </div>
</div>


    <!-- Transaction Records Section-->
    <div class = "transaction-records-container">
        <div class="transaction-records-header">
            <h2 class="transaction-records-title">Transaction Records</h2>
            <button id="add-transaction-btn" class="circle">+</button>
        </div>

        <div class="transaction-records-list">
            <!--Example trans record-->
            <div class="transaction-record">
                <span class="transaction-date">2023-01-01</span>
                <span class="transaction-name">Groceries</span>
                <span class="transaction-amount">$50.00</span>
            </div>

            <div class="transaction-record">
                <span class="transaction-date">2023-01-02</span>
                <span class="transaction-name">Utilities</span>
                <span class="transaction-amount">$150.00</span>
            </div>
        </div>
        <!-- Add more transaction records as needed -->

        <!-- See More Button -->
        <div class="transaction-records-footer">
            <button class="see-more-button">See More</button>
        </div>
    </div>

    <!--Add Transaction Record Form -->
    <div class="form-container-transaction" hidden >
        <form id="transaction-form" class="budget-form">
        <h2>Add Transaction Record</h2>
    
        <label for="description">Description</label>
        <input type="text" id="description" name="description" placeholder="e.g. Transport" required>

        <label for="amount">Amount</label>
        <input type="number" id="amount" name="amount" placeholder="0.00" step="0.01" required>

        <label for="category">Category</label>
        <select id="category" name="category" required>
            <option value="" disabled selected>Select category</option>
            <option value="food">Food</option>
            <option value="transport">Transport</option>
            <option value="utilities">Utilities</option>
            <option value="other">Other</option>
        </select>

        <label for="date">Date 'Leave blank for todays date'</label>
        <input type="date" id="date" name="date" placeholder="Leave blank for today">

        <button type="submit" class="add-record-button">Add Record</button>
        <button type="button" id="cancel-transaction">Cancel</button>
        </form>
    </div>


    <div id="form-container-budget" class="form-container" hidden>
    <form id="budget-form" class="budget-form">
        <h2>Update Monthly Budget Goals</h2>

        <label for="transport-budget">Transport Budget ($)</label>
        <input type="number" id="transport-budget" name="transportBudget" placeholder="e.g. 100" required>

        <label for="food-budget">Food Budget ($)</label>
        <input type="number" id="food-budget" name="foodBudget" placeholder="e.g. 300" required>

        <label for="utilities-budget">Utilities Budget ($)</label>
        <input type="number" id="utilities-budget" name="utilitiesBudget" placeholder="e.g. 150" required>

        <label for="other-budget">Others ($)</label>
        <input type="number" id="other-budget" name="otherBudget" placeholder="e.g. 200" required>

        <div class="form-buttons">
        <button type="button" id="cancel-budget">Cancel</button>
        <button type="button" id="save-budget">Save Budget</button>
        </div>
    </form>
    </div>


    <div id="transaction-details" class="popup">
    <div class="popup-header">
        <h2>Transaction Details</h2>
        <span id="edit-icon" class="edit-icon">&#9998;</span> <!-- Edit icon -->
    </div>

    <p><strong>Date:</strong> 
        <span id="transaction-date"></span>
        <input type="date" id="transaction-date-input" class="edit-input hidden">
    </p>

    <p><strong>Description:</strong> 
        <span id="transaction-description"></span>
        <input type="text" id="transaction-description-input" class="edit-input hidden">
    </p>

    <p><strong>Category:</strong> 
        <span id="transaction-category"></span>
        <select id="transaction-category-input" name="category" required class="edit-input hidden">
            <option value="" disabled selected>Select category</option>
            <option value="food">Food</option>
            <option value="transport">Transport</option>
            <option value="utilities">Utilities</option>
            <option value="other">Other</option>
        </select>
    </p>

    <p><strong>Amount:</strong> $
        <span id="transaction-amount"></span>
        <input type="number" id="transaction-amount-input" class="edit-input hidden" step="0.01">
    </p>

    <button id="close-button" class="close-button">Close</button>
    <button id="delete-button" class="delete-button hidden" style="background-color: red; color: white;">Delete</button>
    </div>



    <button id="test-noti-btn" style="position:fixed;bottom:20px;right:20px;z-index:2000;">
  Show Test Notification
</button>


</body>

    <div id="footer-placeholder"></div>
    <script src="js/footer.js"></script>
    <script src='JS/e-finance.js'></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="/JS/notificationSystem.js" type="module"></script>
        <script src="/JS/chatbot.js" type="module"></script>
</html>